# ä¾èµ–ä¸è€¦åˆæ§åˆ¶

> **é‡è¦æ€§**ï¼šâ­â­â­â­  
> åˆç†çš„ä¾èµ–ç®¡ç†ç¡®ä¿ç»„ä»¶åº“çš„ç¨³å®šæ€§ã€å¯ç»´æŠ¤æ€§å’Œæœ€å°ä½“ç§¯ã€‚

## æ ¸å¿ƒåŸåˆ™

### 1. æœ€å°åŒ–ä¾èµ–
- èƒ½è‡ªå·±å®ç°çš„ç®€å•åŠŸèƒ½ä¸å¼•å…¥æ–°ä¾èµ–
- ä¼˜å…ˆä½¿ç”¨é¡¹ç›®å·²æœ‰çš„ä¾èµ–
- é¿å…ä¸ºå•ä¸€åŠŸèƒ½å¼•å…¥å¤§å‹åº“

### 2. ä¾èµ–éš”ç¦»
- ç»„ä»¶ä¹‹é—´ä½è€¦åˆ
- å…¬å…±ä¾èµ–ç»Ÿä¸€ç®¡ç†
- é¿å…å¾ªç¯ä¾èµ–

### 3. ç‰ˆæœ¬ç¨³å®šæ€§
- æ ¸å¿ƒä¾èµ–é”å®šå¤§ç‰ˆæœ¬
- å®šæœŸæ›´æ–°ä½†è°¨æ…æµ‹è¯•
- é¿å…ä½¿ç”¨ beta/alpha ç‰ˆæœ¬ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

## ä¾èµ–åˆ†ç±»

### æ ¸å¿ƒä¾èµ–ï¼ˆå·²ç¡®è®¤ï¼‰

```json
{
  "dependencies": {
    // Vue ç”Ÿæ€ - æ ¸å¿ƒå¿…éœ€
    "vue": "^3.5.3",
    "@vueuse/core": "^13.5.0",
    "vue-router": "^4.0.13",
    "vue-i18n": "^11.1.0",
    
    // å·¥å…·åº“ - å·²é›†æˆ
    "lodash-es": "^4.17.21",
    "dayjs": "^1.11.13",
    "axios": "^1.6.7",
    
    // UI ç›¸å…³
    "lucide-vue-next": "^0.534.0",  // å›¾æ ‡åº“
    "tippy.js": "^6.3.7",           // æç¤ºå·¥å…·
    "vue-virt-list": "^1.5.11",     // è™šæ‹Ÿåˆ—è¡¨
    "vuedraggable": "^4.1.0",       // æ‹–æ‹½
    
    // ç‰¹å®šåŠŸèƒ½
    "expr-eval": "^2.0.2",          // è¡¨è¾¾å¼è®¡ç®—
    "yup": "^1.2.0",                // è¡¨å•éªŒè¯
    "shiki-code-block-vue": "0.0.6-beta.1", // ä»£ç é«˜äº®
    "loading-masker": "^1.0.0"      // åŠ è½½é®ç½©
  }
}
```

### å¼€å‘ä¾èµ–

```json
{
  "devDependencies": {
    // æ„å»ºå·¥å…·
    "vite": "^7.0.2",
    "typescript": "^5.8.3",
    "vue-tsc": "^3.0.1",
    
    // ä»£ç è´¨é‡
    "@antfu/eslint-config": "^5.0.0",
    "eslint": "^9.31.0",
    "stylelint": "16.2.1",
    
    // ç±»å‹å®šä¹‰
    "@types/node": "^22.16.0",
    "@types/lodash-es": "^4.17.12"
  }
}
```

## ä½¿ç”¨è§„èŒƒ

### âœ… æ¨èä½¿ç”¨ï¼ˆå·²æœ‰ä¾èµ–ï¼‰

#### 1. @vueuse/core - Vue ç»„åˆå¼å·¥å…·

```typescript
// âœ… ä½¿ç”¨ VueUse æä¾›çš„ç»„åˆå¼å‡½æ•°
import { 
  useDebounce,
  useThrottle,
  useEventListener,
  useResizeObserver,
  useIntersectionObserver,
  useMouse,
  useScroll,
  useLocalStorage
} from '@vueuse/core'

// ç¤ºä¾‹ï¼šé˜²æŠ–
const debouncedValue = useDebounce(input, 300)

// ç¤ºä¾‹ï¼šç›‘å¬çª—å£å¤§å°
const { width, height } = useWindowSize()
```

#### 2. lodash-es - å·¥å…·å‡½æ•°

```typescript
// âœ… ä½¿ç”¨å…·åå¯¼å…¥ï¼ˆtree-shaking å‹å¥½ï¼‰
import { debounce, throttle, cloneDeep, merge, pick, omit } from 'lodash-es'

// âŒ ä¸è¦å¯¼å…¥æ•´ä¸ª lodash
// import _ from 'lodash'

// ç¤ºä¾‹ï¼šæ·±æ‹·è´
const cloned = cloneDeep(originalObject)

// ç¤ºä¾‹ï¼šåˆå¹¶å¯¹è±¡
const merged = merge({}, defaults, userConfig)
```

#### 3. dayjs - æ—¥æœŸå¤„ç†

```typescript
// âœ… æ—¥æœŸæ ¼å¼åŒ–å’Œè®¡ç®—
import dayjs from 'dayjs'

// ç¤ºä¾‹ï¼šæ ¼å¼åŒ–æ—¥æœŸ
const formatted = dayjs().format('YYYY-MM-DD HH:mm:ss')

// ç¤ºä¾‹ï¼šæ—¥æœŸè®¡ç®—
const tomorrow = dayjs().add(1, 'day')
```

#### 4. lucide-vue-next - å›¾æ ‡

```typescript
// âœ… ä½¿ç”¨ lucide å›¾æ ‡ï¼ˆå·²é›†æˆåˆ° CommonIconï¼‰
import { Check, X, ChevronDown, Search } from 'lucide-vue-next'

// é€šå¸¸é€šè¿‡ CommonIcon ç»„ä»¶ä½¿ç”¨
<CommonIcon type="check" />
```

#### 5. tippy.js - æç¤ºå·¥å…·

```typescript
// âœ… ç”¨äº Tooltipã€Popover ç­‰ç»„ä»¶
import tippy from 'tippy.js'

// ç¤ºä¾‹ï¼šåˆ›å»ºæç¤º
tippy(element, {
  content: 'Tooltip content',
  placement: 'top'
})
```

### âŒ é¿å…å¼•å…¥æ–°ä¾èµ–

#### åœºæ™¯ 1ï¼šç®€å•å·¥å…·å‡½æ•°

```typescript
// âŒ ä¸è¦ä¸ºç®€å•åŠŸèƒ½å¼•å…¥æ–°åº“
// import isEmail from 'is-email-validator'

// âœ… è‡ªå·±å®ç°ç®€å•çš„å·¥å…·å‡½æ•°
export function isEmail(email: string): boolean {
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)
}

// âŒ ä¸è¦å¼•å…¥æ•´ä¸ª lodash åªç”¨ä¸€ä¸ªå‡½æ•°
// import kebabCase from 'lodash/kebabCase'

// âœ… ç®€å•çš„åŠŸèƒ½è‡ªå·±å®ç°
export function kebabCase(str: string): string {
  return str
    .replace(/([a-z])([A-Z])/g, '$1-$2')
    .replace(/[\s_]+/g, '-')
    .toLowerCase()
}
```

#### åœºæ™¯ 2ï¼šCSS è§£å†³æ–¹æ¡ˆ

```typescript
// âŒ ä¸éœ€è¦å¼•å…¥ classnames åº“
// import classNames from 'classnames'

// âœ… ä½¿ç”¨é¡¹ç›®å†…ç½®çš„ object2class
import { object2class } from 'lew-ui/utils'

const className = object2class('lew-button', {
  size: 'small',
  type: 'primary',
  disabled: true
})
```

#### åœºæ™¯ 3ï¼šåŠ¨ç”»åº“

```typescript
// âŒ ä¸è¦å¼•å…¥é‡é‡çº§åŠ¨ç”»åº“
// import anime from 'animejs'
// import gsap from 'gsap'

// âœ… ä½¿ç”¨ CSS transition/animation
// âœ… æˆ–ä½¿ç”¨ Vue çš„ <Transition> ç»„ä»¶
<Transition name="fade">
  <div v-if="show">Content</div>
</Transition>

// âœ… ç®€å•çš„ JS åŠ¨ç”»è‡ªå·±å®ç°
function animate(element, from, to, duration) {
  // ç®€å•çš„åŠ¨ç”»é€»è¾‘
}
```

### ğŸ”¶ è°¨æ…å¼•å…¥ï¼ˆéœ€è¯„ä¼°ï¼‰

éœ€è¦å¼•å…¥æ–°ä¾èµ–æ—¶ï¼Œå¿…é¡»è¯„ä¼°ï¼š

```markdown
## æ–°ä¾èµ–è¯„ä¼°æ¸…å•

### åŸºæœ¬ä¿¡æ¯
- åŒ…åï¼šxxx
- ç‰ˆæœ¬ï¼šx.x.x
- ä½“ç§¯ï¼šxx KB (gzipped)
- ä¾èµ–æ•°ï¼šxx
- å‘¨ä¸‹è½½é‡ï¼šxxx
- æœ€åæ›´æ–°ï¼šxxxx-xx-xx

### å¿…è¦æ€§è¯„ä¼°
- [ ] æ˜¯å¦å¯ä»¥ç”¨ç°æœ‰ä¾èµ–å®ç°ï¼Ÿ
- [ ] æ˜¯å¦å¯ä»¥è‡ªå·±å®ç°ï¼ˆå·¥ä½œé‡è¯„ä¼°ï¼‰ï¼Ÿ
- [ ] æ˜¯å¦æœ‰æ›´è½»é‡çš„æ›¿ä»£æ–¹æ¡ˆï¼Ÿ
- [ ] é¡¹ç›®å†…æœ‰å¤šä¸ªç»„ä»¶ä¼šç”¨åˆ°ï¼Ÿ

### è´¨é‡è¯„ä¼°
- [ ] GitHub Stars > 1000
- [ ] æ´»è·ƒç»´æŠ¤ï¼ˆæœ€è¿‘ 6 ä¸ªæœˆæœ‰æ›´æ–°ï¼‰
- [ ] æœ‰ TypeScript ç±»å‹å®šä¹‰
- [ ] æ— ä¸¥é‡å®‰å…¨æ¼æ´
- [ ] è®¸å¯è¯å…¼å®¹ï¼ˆMIT/Apache/BSDï¼‰

### å½±å“è¯„ä¼°
- [ ] ä½“ç§¯å¢åŠ  < 10KB (gzipped)
- [ ] ä¸ä¼šå¼•å…¥å†²çªä¾èµ–
- [ ] æ”¯æŒ tree-shaking
- [ ] ä¸å½±å“ç°æœ‰åŠŸèƒ½

### å†³ç­–
- [ ] æ‰¹å‡†å¼•å…¥
- [ ] å¯»æ‰¾æ›¿ä»£æ–¹æ¡ˆ
- [ ] è‡ªå·±å®ç°
```

## ç»„ä»¶é—´ä¾èµ–

### å…è®¸çš„ä¾èµ–å…³ç³»

```typescript
// âœ… ç»„ä»¶å¯ä»¥ä¾èµ–å…¬å…±ç»„ä»¶
import CommonIcon from 'lew-ui/_components/CommonIcon.vue'

// âœ… ç»„ä»¶å¯ä»¥ä½¿ç”¨å·¥å…·å‡½æ•°
import { object2class } from 'lew-ui/utils'

// âœ… ç»„ä»¶å¯ä»¥ä½¿ç”¨å…¨å±€ç±»å‹
import type { Size, Color } from 'lew-ui/types'

// âœ… å¤åˆç»„ä»¶ä¹‹é—´çš„ä¾èµ–ï¼ˆçˆ¶å­å…³ç³»ï¼‰
// LewCheckboxGroup å¯ä»¥å¯¼å…¥ LewCheckbox
import LewCheckbox from './LewCheckbox.vue'
```

### ç¦æ­¢çš„ä¾èµ–å…³ç³»

```typescript
// âŒ ç¦æ­¢ç»„ä»¶ç›´æ¥ä¾èµ–å…¶ä»–ä¸šåŠ¡ç»„ä»¶
// import LewButton from '../button/src/LewButton.vue'
// åº”è¯¥ç”±ç”¨æˆ·è‡ªå·±ç»„åˆ

// âŒ ç¦æ­¢å¾ªç¯ä¾èµ–
// ComponentA å¯¼å…¥ ComponentBï¼ŒåŒæ—¶ ComponentB å¯¼å…¥ ComponentA

// âŒ ç¦æ­¢è·¨æ¨¡å—çš„æ·±å±‚å¯¼å…¥
// import { helper } from '../../data/table/src/utils'
// åº”è¯¥æå–åˆ°å…¬å…± utils

// âŒ ç¦æ­¢ä¾èµ–æœªå¯¼å‡ºçš„å†…éƒ¨å®ç°
// import { _internalHelper } from 'lew-ui/_internal'
```

## å…¬å…±ä»£ç ç®¡ç†

### ç›®å½•ç»“æ„

```
lib/
â”œâ”€â”€ _components/      # å†…éƒ¨å…¬å…±ç»„ä»¶ï¼ˆä¸å¯¹å¤–å¯¼å‡ºï¼‰
â”‚   â”œâ”€â”€ CommonIcon.vue
â”‚   â””â”€â”€ CommonLoading.vue
â”œâ”€â”€ _utils/          # å†…éƒ¨å·¥å…·å‡½æ•°ï¼ˆä¸å¯¹å¤–å¯¼å‡ºï¼‰
â”‚   â””â”€â”€ internal-helper.ts
â”œâ”€â”€ utils/           # å¯¹å¤–å…¬å…±å·¥å…·
â”‚   â”œâ”€â”€ object2class.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ types/           # å…¬å…±ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ common.ts
â”‚   â””â”€â”€ index.ts
â””â”€â”€ components/      # ç»„ä»¶
    â””â”€â”€ ...
```

### å…¬å…±ç»„ä»¶è§„èŒƒ

```typescript
// lib/_components/CommonIcon.vue
// âœ… å†…éƒ¨å…¬å…±ç»„ä»¶ï¼ˆæ‰€æœ‰ç»„ä»¶å…±ç”¨ï¼‰
<script setup lang="ts">
import { computed } from 'vue'
import * as Icons from 'lucide-vue-next'

const props = defineProps<{
  type: string
  size?: number
  color?: string
}>()

const IconComponent = computed(() => {
  return Icons[props.type] || Icons.HelpCircle
})
</script>

<template>
  <component
    :is="IconComponent"
    :size="size"
    :color="color"
  />
</template>
```

### å…¬å…±å·¥å…·å‡½æ•°

```typescript
// lib/utils/object2class.ts
/**
 * å°†å¯¹è±¡è½¬æ¢ä¸º BEM ç±»å
 * @param base - åŸºç¡€ç±»åï¼ˆå¦‚ 'lew-button'ï¼‰
 * @param modifiers - ä¿®é¥°ç¬¦å¯¹è±¡
 * @returns ç±»åå­—ç¬¦ä¸²
 */
export function object2class(
  base: string,
  modifiers: Record<string, any>
): string {
  const classes = [base]
  
  for (const [key, value] of Object.entries(modifiers)) {
    if (value === true) {
      // boolean: lew-button-loading
      classes.push(`${base}-${key}`)
    } else if (value && value !== false) {
      // string/number: lew-button-size-small
      classes.push(`${base}-${key}-${value}`)
    }
  }
  
  return classes.join(' ')
}

// ä½¿ç”¨ç¤ºä¾‹
object2class('lew-button', {
  size: 'small',      // -> lew-button-size-small
  type: 'primary',    // -> lew-button-type-primary
  loading: true,      // -> lew-button-loading
  disabled: false     // -> ä¸ç”Ÿæˆ
})
// ç»“æœ: 'lew-button lew-button-size-small lew-button-type-primary lew-button-loading'
```

### å…¬å…±ç±»å‹å®šä¹‰

```typescript
// lib/types/common.ts
/**
 * ç»„ä»¶é€šç”¨å°ºå¯¸
 */
export type Size = 'mini' | 'small' | 'medium' | 'large'

/**
 * ä¸»é¢˜è‰²
 */
export type Color = 
  | 'primary' 
  | 'success' 
  | 'warning' 
  | 'error' 
  | 'info'

/**
 * å¯¹é½æ–¹å¼
 */
export type Align = 'left' | 'center' | 'right'

/**
 * ä½ç½®
 */
export type Placement = 
  | 'top' 
  | 'top-start' 
  | 'top-end'
  | 'bottom' 
  | 'bottom-start' 
  | 'bottom-end'
  | 'left' 
  | 'left-start' 
  | 'left-end'
  | 'right' 
  | 'right-start' 
  | 'right-end'

// å¯¼å‡ºæ‰€æœ‰ç±»å‹
// lib/types/index.ts
export * from './common'
```

## Peer Dependencies

### é…ç½®è§„èŒƒ

```json
{
  "peerDependencies": {
    "vue": "^3.5.3"
  }
}
```

### è¯´æ˜
- **peerDependencies**ï¼šè¦æ±‚ç”¨æˆ·é¡¹ç›®å¿…é¡»å®‰è£…çš„ä¾èµ–
- lew-ui åªå°† Vue ä½œä¸º peer dependency
- å…¶ä»–ä¾èµ–éƒ½æ‰“åŒ…åˆ°ç»„ä»¶åº“ä¸­

## ä¾èµ–æ›´æ–°ç­–ç•¥

### å®šæœŸå®¡æŸ¥

```bash
# æ£€æŸ¥è¿‡æœŸä¾èµ–
pnpm outdated

# æ£€æŸ¥å®‰å…¨æ¼æ´
pnpm audit

# æ›´æ–°è¡¥ä¸ç‰ˆæœ¬ï¼ˆå®‰å…¨ï¼‰
pnpm update

# æ›´æ–°æ¬¡è¦ç‰ˆæœ¬ï¼ˆè°¨æ…ï¼‰
pnpm update --latest
```

### æ›´æ–°æµç¨‹

1. **è¯„ä¼°å½±å“**ï¼šæŸ¥çœ‹ CHANGELOG äº†è§£å˜æ›´
2. **æœ¬åœ°æµ‹è¯•**ï¼šæ›´æ–°åè¿è¡Œå®Œæ•´æµ‹è¯•
3. **ç±»å‹æ£€æŸ¥**ï¼šç¡®ä¿æ²¡æœ‰ç±»å‹é”™è¯¯
4. **æ„å»ºéªŒè¯**ï¼šç¡®ä¿æ„å»ºæˆåŠŸ
5. **æ–‡æ¡£æ›´æ–°**ï¼šå¦‚æœ‰ breaking change æ›´æ–°æ–‡æ¡£
6. **å‘å¸ƒè¯´æ˜**ï¼šåœ¨ CHANGELOG ä¸­è®°å½•ä¾èµ–æ›´æ–°

### ç‰ˆæœ¬é”å®šç­–ç•¥

```json
{
  "dependencies": {
    // âœ… æ ¸å¿ƒä¾èµ–ï¼šé”å®šä¸»ç‰ˆæœ¬
    "vue": "^3.5.3",
    "vue-router": "^4.0.13",
    
    // âœ… å·¥å…·åº“ï¼šå…è®¸å°ç‰ˆæœ¬æ›´æ–°
    "lodash-es": "^4.17.21",
    "dayjs": "^1.11.13",
    
    // ğŸ”¶ beta/å®éªŒæ€§ï¼šé”å®šç²¾ç¡®ç‰ˆæœ¬
    "shiki-code-block-vue": "0.0.6-beta.1"
  }
}
```

## æ‰“åŒ…ç­–ç•¥

### å¤–éƒ¨åŒ–é…ç½®

```typescript
// vite.config.ts
export default defineConfig({
  build: {
    lib: {
      entry: './lib/index.ts',
      name: 'LewUI'
    },
    rollupOptions: {
      // å¤–éƒ¨åŒ– peer dependencies
      external: ['vue', 'vue-router'],
      
      // å†…éƒ¨åŒ–å…¶ä»–ä¾èµ–ï¼ˆæ‰“åŒ…åˆ°åº“ä¸­ï¼‰
      output: {
        globals: {
          vue: 'Vue',
          'vue-router': 'VueRouter'
        }
      }
    }
  }
})
```

## æ£€æŸ¥æ¸…å•

å¼•å…¥æ–°ä¾èµ–å‰ç¡®è®¤ï¼š
- [ ] å·²è¯„ä¼°å¿…è¦æ€§ï¼ˆä¸èƒ½ç”¨ç°æœ‰æ–¹æ¡ˆï¼‰
- [ ] å·²è¯„ä¼°ä½“ç§¯å½±å“ï¼ˆ< 10KB gzippedï¼‰
- [ ] åŒ…è´¨é‡è‰¯å¥½ï¼ˆStars > 1000ï¼Œæ´»è·ƒç»´æŠ¤ï¼‰
- [ ] æœ‰å®Œæ•´çš„ TypeScript ç±»å‹
- [ ] æ”¯æŒ tree-shaking
- [ ] è®¸å¯è¯å…¼å®¹
- [ ] æ— å®‰å…¨æ¼æ´
- [ ] ä¸ä¼šå¼•å…¥ä¾èµ–å†²çª

ä¿®æ”¹ç»„ä»¶æ—¶ç¡®è®¤ï¼š
- [ ] æ²¡æœ‰å¼•å…¥ä¸å¿…è¦çš„ä¾èµ–
- [ ] ä¼˜å…ˆä½¿ç”¨é¡¹ç›®å·²æœ‰ä¾èµ–
- [ ] æ²¡æœ‰åˆ›å»ºå¾ªç¯ä¾èµ–
- [ ] å…¬å…±ä»£ç æ”¾åœ¨æ­£ç¡®çš„ä½ç½®
- [ ] å·¥å…·å‡½æ•°æœ‰æ˜ç¡®çš„æ–‡æ¡£

---

**è®°ä½**ï¼šæ¯ä¸ªä¾èµ–éƒ½æ˜¯è´Ÿæ‹…ï¼Œä¿æŒç²¾ç®€æ‰èƒ½ä¿æŒé«˜æ€§èƒ½ï¼
